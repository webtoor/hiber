<!--
  Generated template for the StatusPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="navy">
    <ion-title>{{subject}}</ion-title>
    <ion-buttons end icon-only style="margin-right:-5px;" (click)="presentPopover($event)">
        <button ion-button>
          <ion-icon name="more"></ion-icon>
        </button>
      </ion-buttons>
  </ion-navbar>
  

</ion-header>

<ion-content>
  <ng-container *ngIf="items != 0;else kosong">
    <div *ngFor="let item of items">
      <ion-card >
      <ion-card-content>  
          <ion-grid>
        <ion-row style="margin-left: -9px; margin-top: -10px">
          <ion-col>
              <div *ngIf="item.user" style="font-weight:bold;">
                {{item.user.username}} 
                <a *ngIf="item.user_feedback"><ion-icon name="star" ></ion-icon>{{item.user_feedback.total_rating}}</a>
                <!-- <a *ngIf="item.total_rating || item.total_rating == 0"><ion-icon name="star" ></ion-icon>{{item.total_rating}}</a> -->
              </div>
            </ion-col>
          <ion-col>
            <button *ngIf="items" ion-button small block color="navy" style="color:orange" (click)="gunakan(item.order_id, item.user.username, item.user.id)">GUNAKAN</button>
          </ion-col>
        </ion-row>
        <ion-row style="margin-left: -9px; margin-top: -10px; margin-bottom: -20px">
            <ion-col>
              </ion-col>
        <ion-col>
            <button ion-button clear block small color="primary" >Hubungi</button>
          </ion-col>
        </ion-row>
      </ion-grid>
     <div *ngIf="item.offered_price" style="font-weight:bold;">Penawaran IDR {{item.offered_price  | currency:"Rp." :true:"1.0"}}</div>
    <!--  <div *ngIf="item.proposal" style="font-weight:bold;">Penawaran IDR {{item.proposal.offered_price  | currency:"Rp." :true:"1.0"}}</div>  -->

    </ion-card-content>
    </ion-card>
    </div>       

  </ng-container>
  <ng-template #kosong>
      <ion-card>
          <ion-card-content>
            <p text-center style="font-weight:bold">Belum Ada Penyedia Jasa</p>
          </ion-card-content>
  </ion-card>
    </ng-template>

</ion-content>
